<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#0b0f14">
  <title>Chatten â€” Actieplatform Politiegeweld</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .chat-container { max-width:800px; margin:20px auto; background:#121821; border-radius:12px; padding:20px; }
    .messages { max-height:400px; overflow-y:auto; padding:10px; border:1px solid #333; border-radius:8px; background:#0b0f14; white-space:pre-wrap; }
    .msg { margin:8px 0; }
    .msg.user { color:#e63946; }
    .msg.bot { color:#9fb3c8; }
    .input-area { display:flex; gap:10px; margin-top:10px; }
    input[type=text] { flex:1; padding:10px; border-radius:8px; border:none; }
    button { padding:10px 16px; border:none; border-radius:8px; cursor:pointer; }
  </style>
</head>
<body>
  <nav class="nav">
  <div class="container nav-inner">
    <a class="brand" href="index.html" aria-label="Ga naar home">
      <img src="images/logo.png" alt="Actieplatform Politiegeweld logo">
      <strong>Actieplatform Politiegeweld</strong>
    </a>

    <div class="menu" role="navigation" aria-label="Hoofdmenu">
      <a href="home.html">Home</a>
      <a href="uitgebreid-melden.html">Uitgebreid melden</a>
      <a href="meldingen-live-kaart.html">Meldingen &amp; Live Kaart</a>
      <a href="meedoen.html">Meedoen</a>
      <a href="juridisch.html">Juridisch (geschillen)</a>
      <a href="uitspraken.html">Rechterlijke uitspraken</a>
      <a href="privacy.html">Privacy</a>
      <a href="chatten.html">Chatten</a>
      <a href="livestream.html">Livestream</a>
    </div>
  </div>
</nav>
  <header class="container hero">
    <h1>Chat met de juridische assistent</h1>
    <p>Stel je vragen over mensenrechten, wetten en procedures. De chatbot reageert in het Nederlands, verwijst naar artikelen en denkt mee als een advocaat.</p>
  </header>

  <main class="container">
    <div class="chat-container">
      <div id="messages" class="messages"></div>
      <div class="input-area">
        <input id="userInput" type="text" placeholder="Typ je vraag..." />
        <button onclick="sendMessage()">Stuur</button>
        <button onclick="startVoice()">ðŸŽ¤</button>
      </div>
    </div>
  </main>

  <footer class="container footer">
    Â© <span id="y"></span> Actieplatform Politiegeweld
  </footer>

  <script>
    const wetten = {
      evrm3: "Artikel 3 EVRM: 'Niemand mag worden onderworpen aan foltering of aan onmenselijke of vernederende behandeling of bestraffing.'",
      evrm5: "Artikel 5 EVRM: 'Een ieder heeft recht op vrijheid en veiligheid van zijn persoon.'",
      evrm10: "Artikel 10 EVRM: 'Een ieder heeft recht op vrijheid van meningsuiting.'",
      evrm11: "Artikel 11 EVRM: 'Een ieder heeft recht op vrijheid van vreedzame vergadering en vereniging.'",
      politiewet7: "Politiewet artikel 7: De politie is bevoegd geweld te gebruiken, maar alleen als dat noodzakelijk is en het doel dit rechtvaardigt.",
      sr300: "Wetboek van Strafrecht artikel 300: Mishandeling wordt gestraft met gevangenisstraf van ten hoogste drie jaren of geldboete.",
      sv12: "Wetboek van Strafvordering artikel 12: Een ieder die meent dat niet tot vervolging wordt overgegaan, kan daarover een klacht indienen bij het gerechtshof.",
      gw7: "Grondwet artikel 7: Ieder heeft het recht zijn gedachten of gevoelens te uiten, behoudens ieders verantwoordelijkheid volgens de wet.",
      gw9: "Grondwet artikel 9: Het recht tot vergadering en betoging wordt erkend, behoudens ieders verantwoordelijkheid volgens de wet."
    };

    const faq = [
      {q:"geslagen", a: `Dat klinkt ernstig. ${wetten.evrm3} Ook ${wetten.sr300} De politie mag geweld alleen gebruiken als het noodzakelijk en proportioneel is (${wetten.politiewet7}).\n\nKunt u aangeven of dit gebeurde tijdens een aanhouding of tijdens een demonstratie?`},
      {q:"politie geweld", a: `${wetten.politiewet7} Verder geldt ${wetten.evrm3}.`},
      {q:"aanhouding", a: `Bij een aanhouding geldt ${wetten.evrm5} U heeft recht op bijstand van een advocaat en mag niet willekeurig worden vastgehouden.`},
      {q:"om niets doet", a: `Als het OM niet vervolgt, kunt u gebruik maken van ${wetten.sv12} Dit heet een artikel 12 Sv-procedure.`},
      {q:"demonstratie", a: `Het recht op demonstratie is beschermd in ${wetten.gw9} en ${wetten.evrm11} Geweld tegen demonstranten is alleen toegestaan als het strikt noodzakelijk is.`},
      {q:"meningsuiting", a: `${wetten.gw7} en ${wetten.evrm10} Dit recht kan beperkt worden bij wet, maar alleen onder strikte voorwaarden.`}
    ];

    const smalltalk = {
      "hallo": "Hallo! Fijn dat u er bent. Wat wilt u bespreken?",
      "hoi": "Hoi! Waar kan ik u mee helpen?",
      "bedankt": "Graag gedaan, ik sta altijd klaar om te helpen.",
      "dank": "Geen probleem, wilt u nog iets weten?"
    };

    const messagesDiv = document.getElementById('messages');
    const synth = window.speechSynthesis;

    function addMessage(text, sender) {
      const div = document.createElement('div');
      div.className = 'msg ' + sender;
      div.textContent = (sender==='user'? 'ðŸ‘¤: ' : 'ðŸ¤–: ') + text;
      messagesDiv.appendChild(div);
      messagesDiv.scrollTop = messagesDiv.scrollHeight;
      if(sender==='bot') speak(text);
    }

    function sendMessage() {
      const input = document.getElementById('userInput');
      const text = input.value.trim();
      if(!text) return;
      addMessage(text, 'user');
      input.value='';
      respond(text);
    }

    function respond(query) {
      let q = query.toLowerCase();

      for (let key in smalltalk) {
        if (q.includes(key)) {
          addMessage(smalltalk[key], 'bot');
          return;
        }
      }

      for (let f of faq) {
        if (q.includes(f.q)) {
          addMessage(f.a, 'bot');
          return;
        }
      }

      if(q.includes("uitspraak") || q.includes("rechtbank") || q.includes("ehrm")) {
        addMessage("Ik kan jurisprudentie voor u opzoeken. Kijk bijvoorbeeld op rechtspraak.nl of HUDOC (EHRM). Wilt u dat ik u een link geef naar recente zaken over politiegeweld?", "bot");
        return;
      }

      addMessage("Ik begrijp uw vraag, maar ik heb daar geen direct antwoord op. Wilt u dat ik kijk naar welke wet of artikel hier mogelijk van toepassing is?", 'bot');
    }

    function speak(text) {
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = 'nl-NL';
      synth.speak(utter);
    }

    function startVoice() {
      if(!('webkitSpeechRecognition' in window)) {
        alert('Spraakherkenning wordt niet ondersteund in deze browser.');
        return;
      }
      const recognition = new webkitSpeechRecognition();
      recognition.lang = 'nl-NL';
      recognition.start();
      recognition.onresult = function(event) {
        const text = event.results[0][0].transcript;
        document.getElementById('userInput').value = text;
        sendMessage();
      };
    }

    document.getElementById("userInput").addEventListener("keypress", function(e) {
      if (e.key === "Enter") {
        e.preventDefault();
        sendMessage();
      }
    });

    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
